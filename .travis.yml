language: python
python:
- '3.6'
sudo: required
before_install:
  - "sudo apt-get install pandoc"
  - "pandoc --from=markdown --to=rst --output=README README.md"
install:
  - "pip install ."
  - "pip install -r requirements.txt"
  - "pip install pycodestyle"
script:
  - pycodestyle
deploy:
- provider: pypi
  skip_cleanup: true
  distributions: "sdist"
  user: ogajduse
  password:
    secure: p9gM0V6+7/cJ0yGQ36UOK6oKuPh+Rtmfe4JPTswA2pf3mZibvGgxgZsBwmDiiyPqn/iX83+wO38J93Cza6FEXgFOMdtrL8DWoeZ6udf9WgJ9m30T5DPcHBvYYoq073XgTKXfi3M18aBHwQWhTjEGNGevm7oohUlTN3D1Khpga4u8DCv85BLntBKfkFF9bNMkZjxS31T6yg4GekBbMTT9wNfs1fDh3GoI3I/4hFu3CJbu1IyR8Z5azsUKsEDt+oxeCmW1r/deq4ZWc3HHpukLp9jpTIWC5Gi/t2hQw5eePygGrrMIkoUa4pBiejt/ol/0yGUDJAz3joQXjKq1QKhiOQD3oxaITXXFVuNoGRMGl0+NT7bKoVnPV0hC7t00ReELGrOWOdXziqTRYDq/ZFPLonyxAgaVto9VmJlYsX/0TI3c9Q3XotCwHcEVC6rFszPlwloA9B1apJ5cuB3HFu6u8QyzYbkA9h/TDMFl9/AcCLrE7erhMqi9G+O/tnpqEFq0heG57bs30Vy3UoW3MM/fea58NWDoWbkOQdsN/1Kpw0KkfX4fE62Exx8Os0bjwBfmi7J6F1MHoBvrOnUi8E0m7/U8Xck0w9sqYgTCHs5tgMb6r+OGNnjnvb9XgAdV9+RyD5NEMlwnyB845qVkSn2a7vvSMrupxbSlhEiCwQjPloI=
  on:
    tags: true
    all_branches: true
#    condition: $TRAVIS_PYTHON_VERSION = 3.6
#    branch: master    
