language: python
python:
- '3.6'
sudo: required
before_install:
  - "sudo apt-get install pandoc"
  - "pandoc --from=markdown --to=rst --output=README README.md"
install:
  - "pip install ."
  - "pip install -r requirements.txt"
  - "pip install pycodestyle"
script:
  - pycodestyle
deploy:
- provider: pypi
  skip_cleanup: true
  distributions: "sdist"
  user: ogajduse
  password:
    secure: "rRk3PGgV3yIgkXHVFlS2dpyDVdS1U6tgyV+aZE9wNXGuvcX25owdKeLFcxUQSAecJMFPVh2jcJCWPn5YoN3b8cyejESWlUH4LUIxtzxqqcVdMIPQSMsnsZdEwoO7I/YFFE/AYvhoeXhgtwz48M3lYibjQKLBxglaIGtX+QYR0t080FR6sLWIBhXYNUiGZYMPnx3+qQp7fY2BcqjGTenZd891EkGBcF51aLsZI9bCp7YP6arF/2XzHVuym0FVbmy3Q7knvJV+5FpzRVC3/alLhe96wGhfLgL0dZgx2Odkb28a924SY4Mqa7czsBFBeWq2fZ7aybs7fx6OZCeUtF6s8+JkLZ/SYQGx4OWiF7kVDAzfWMMDn5jHK2ahNq6/6/vrAeCI7v4uoGSQVy6io7DPFtTsMwh5N0R4+jBo+I8VF7ZDdH4BLjwBreIZaJmB0eMl7F1CaJuzukrkWpDzC7oiCd8lEa3I8EyJLIAwuzmqhXjFuWVlKTYgFAV2TDCHBEcvukTfJB0ZTAisD6HQKtgsUpEYUIjNZ2PhuCncodt3Jn3iMbz1y8tB4Ll5kcDg7mdUlKGAoX+e8KA20T6jc3DpOBFCIxR4BhehoDwF0Y/Ca9XmQBCdVjLqDG2Cprezdk2Cba8AAhdrTCGE7twMUgOKEsm1Owa7mItBzq3CNqLLvXg="
  on:
    tags: true
    all_branches: true
#    condition: $TRAVIS_PYTHON_VERSION = 3.6
#    branch: master    
